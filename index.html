<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .top-rec {
            display: grid;
            background-color: dimgrey;
            border-radius: 20px;
            width: 750px;
            height: 400px;
        }
        .break-line {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 30px;
        }
        .tabs {
            color: white;
            height: 50px;
            background-color: dimgrey;
            border-radius: 20px;
            cursor: pointer;
            font-size: 15px;
        }
        .tabs.on {
            border: black;
        }
        .time {
            color: white;
            margin-left: 240px;
            font-size: 110px;
            margin-top: -50px;
            display: flex;
        }
        .top-rec hr {
            height: 3px;
            width: 440px;
            margin-top: -40px;
        }
        .add-time {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: -60px;
        }
        .added-times {
            height: 20px;
            width: 60px;
            background-color: dimgrey;
            color: white;
            border: none;
            cursor: pointer;
        }
        .action {
            width: 60px;
            height: 20px;
            background-color: dimgrey;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            display: block;
        }
        .action-nav {
            justify-content: center;
            display: flex;
            gap: 10px;
            margin-right: -20px;
        }
        .action.off {
            display: none;
        }
    </style>
    <link href="style.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Pomodoro Timer</title>
</head>
<body style="background-color: grey; font-family: sans-serif">
<div class="top-rec">
    <div class="break-line">
        <button class="tabs" id="focus" onclick="Onfocus()">Focus</button>
        <button class="tabs" id="Short-break" onclick="shortBreak()" >Short Break</button>
        <button class="tabs" id="Long-break" onclick="longBreak()">Long Break</button>
    </div>
    <div class="time">
        <b><span id="current-timer">00</span>:</b>
        <b><span id="seconds">00</span></b>
    </div>
    <hr>
    <div class="add-time">
        <button class="added-times" onclick="add25mins()">+25 min</button>
        <button class="added-times" onclick="add10mins()">+10 min</button>
        <button class="added-times" onclick="add5mins()">+5 min</button>
        <button class="added-times" onclick="add1min()">+1 min</button>
    </div>
    <div class="action-nav">
        <button class="action" onclick="startTimer()" id="start-timer">Start</button>
        <button class="action off" onclick="resumeTimer()" id="resume-timer">Resume</button>
        <button class="action off" onclick="pauseTimer()"  id="pause-timer">Pause</button>
        <button class="action off" onclick="resetTimer()"  id="reset-timer">Reset</button>
    </div>
</div>
<script>
    const timerList = document.querySelectorAll(".tabs");
    const time = document.getElementById("current-timer");
    const seconds = document.getElementById("seconds");
    const pause = document.getElementById("pause-timer");
    const reset = document.getElementById("reset-timer");
    const start = document.getElementById("start-timer");
    const resume = document.getElementById("resume-timer");
    let initialMinute;
    let timerInterval;
    function Onfocus () {
        clearInterval(timerInterval);
        resetTimer();
        time.innerText = "25";
        seconds.innerText = "00";
        timerList.forEach(timer => {
            if (timer.id === "focus"){
                const focus = document.getElementById("focus");
                focus.classList.toggle("on");
            } else {
                timer.classList.remove("on");
            }})}

    function shortBreak () {
        clearInterval(timerInterval);
        resetTimer();
        time.innerText = "05";
        seconds.innerText = "00";
        timerList.forEach(timer => {
            if (timer.id === "Short-break"){
                const shortBreak = document.getElementById("Short-break");
                shortBreak.classList.toggle("on");
            } else {
                timer.classList.remove("on");
            }})}

    function longBreak () {
        clearInterval(timerInterval);
        resetTimer();
        time.innerText = "10";
        seconds.innerText = "00";
        timerList.forEach(timer => {
            if (timer.id === "Long-break"){
                const longBreak = document.getElementById("Long-break");
                longBreak.classList.toggle("on");
            } else {
                timer.classList.remove("on");
            }})}
    function add25mins (){
        const addedTime = parseInt(time.innerText) + 25;
        time.innerText = addedTime.toString();
    }
    function add10mins(){
        const addedTime = parseInt(time.innerText) + 10;
        time.innerText = addedTime.toString();
    }
    function add5mins(){
        const addedTime = parseInt(time.innerText) + 5;
        time.innerText = addedTime.toString();
    }
    function add1min(){
        const addedTime = parseInt(time.innerText) + 1;
        time.innerText = addedTime.toString();
    }
    function startCounting (minutes,secondsLeft){
        timerInterval = setInterval(() => {
            if (secondsLeft === 0){
                if (minutes === 0){
                    clearInterval(timerInterval);
                    return;
                }
                minutes--;
                time.innerText = minutes.toString().padStart(2,"0");
                secondsLeft = 59;
            } else {
                secondsLeft--;
            }
            seconds.innerText = secondsLeft.toString().padStart(2,"0");
        }, 1000);

    }
    function startTimer(){
        start.classList.add("off");
        pause.classList.remove("off");
        reset.classList.remove("off");
        resume.classList.add("off");

        let minutes = parseInt(time.innerText);
        initialMinute = minutes;
        let secondsLeft = 59;
        seconds.innerText = "59";
        time.innerText = minutes.toString().padStart(2, "0");
        startCounting(minutes,secondsLeft);
    }
    function resetTimer(){
        start.classList.remove("off");
        pause.classList.add("off");
        reset.classList.add("off");
        resume.classList.add("off");

        if (initialMinute === 5){
            shortBreak();
        }
        else if (initialMinute === 10){
            longBreak();
        }
        else {
            clearInterval(timerInterval);
        }
    }
    function pauseTimer(){
        start.classList.add("off");
        pause.classList.add("off");
        reset.classList.remove("off");
        resume.classList.remove("off");
        clearInterval(timerInterval);
    }
    function resumeTimer(){
        start.classList.add("off");
        pause.classList.remove("off");
        reset.classList.remove("off");
        resume.classList.add("off");
        startCounting(parseInt(time.innerText),parseInt(seconds.innerText));
    }
</script>
</body>
</html>